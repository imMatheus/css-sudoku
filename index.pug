doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title CSS Only Sudoku
    link(rel="stylesheet", href="style.css")
  body
  input.game-difficulty-input(type="radio", id="game-difficulty-easy", name="game-difficulty")
  input.game-difficulty-input(type="radio", id="game-difficulty-medium", name="game-difficulty")
  input.game-difficulty-input(type="radio", id="game-difficulty-hard", name="game-difficulty")
  input.goBackButton(type="radio", id="goBackButton", name="game-difficulty")
  .loading-screen
    .loading-screen-inner
      p Loading...
      .loading-screen-loader
        - for (let i = 0; i < 12; i++)
          .bar

  .difficulty-picker-labels
    label(for="game-difficulty-easy") 
      img(src="./img/sudoku.png", alt="Easy")
      p(id="easy-difficulty-label") Easy Sudoku
    label(for="game-difficulty-medium")
      img(src="./img/sudoku.png", alt="Medium")
      p(id="medium-difficulty-label") Medium Sudoku
    label(for="game-difficulty-hard") 
      img(src="./img/sudoku.png", alt="Hard")
      p(id="hard-difficulty-label") Hard Sudoku
  .win99-taskbar
    .win99-start-button CSS Only Sudoku
    .win99-start-button-container
      a.win99-start-button(href="https://github.com/whosmatu/css-only-sudoku", target="_blank") 
        svg(width="12" height="12" viewBox="0 0 16 16" fill="currentColor")
          path(d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z")
        span GitHub
      a.win99-start-button(href="https://x.com/whosmatu", target="_blank") By @whosmatu
  //- - const icons = ['ðŸŽ‰', 'ðŸ¥³', 'ðŸŽŠ']
  //- - for (let i = 1; i < 100; i++) {
  //-    .icon= icons[Math.floor(Math.random() * icons.length)]
  //- - }
  .game-easy.win99-window
    label(for="easy-close-sidebar").close-sidebar-label
    .win99-title-bar
      div
        p Easy mode
      label.win99-button(for="goBackButton") Ã—
    input.close-sidebar(type="radio", id="easy-close-sidebar", name="select-square")
    .board
      .winner-message
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        p Completed!
      - var gridSize = 3 // Change this to adjust the grid size (e.g., 4, 9, 16, 25)
      - var blockSize = Math.sqrt(gridSize); // Size of each block/group
      - var squares = [];
      - for (let i = 0; i < gridSize * gridSize; i++) {
      -   var row = Math.floor(i / gridSize);
      -   var col = i % gridSize;
      -   var group = Math.floor(row / blockSize) * blockSize + Math.floor(col / blockSize) + 1;
      -   squares.push({ index: i + 1, group: group });
      - }
      each square in squares
        - var preFilledSquares = [[1, 4], [2, 5], [4, 6], [6, 3], [7, 8]];
        - var preFilledEntry = preFilledSquares.find(entry => entry[0] === square.index);
        - var isPreFilled = preFilledEntry !== undefined;
        - var defaultValue = isPreFilled ? preFilledEntry[1] : 0;
        each num in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
            input.number_picker_input(
                type="radio", 
                id=`board-easy-square-${square.index}-number-${num}`, 
                name=`board-easy-square-${square.index}-numbers`, 
                value=num
                disabled=(isPreFilled ? true : false)
                checked=(isPreFilled ? num===defaultValue : num===0)
                data-square-index=square.index
                data-square-group=square.group
                data-x=(square.index-1)%9+1
                data-y=Math.ceil(square.index/9)
            )
        label.square(for=`board-easy-square-${square.index}` data-square-index=square.index data-square-group=square.group data-x=(square.index-1)%9+1 data-y=Math.ceil(square.index/9))
          if isPreFilled
            div(style="position: absolute; user-select: none; bottom: 4px; right: 4px; width: 30px; height: 30px")
              img(src='./img/lock.png', alt='Locked', style="width: 100%; height: 100%;")
          else
            input.sidebar_toggle_input(type="radio", id=`board-easy-square-${square.index}`, name="select-square")
            label.sidebar_toggle_label(for=`board-easy-square-${square.index}`)
            .number_picker_sidebar  
              each num in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
                label.number_picker_label(for=`board-easy-square-${square.index}-number-${num}`)=num===0 ? "X" : num
 
  .game-medium.win99-window
    label(for="medium-close-sidebar").close-sidebar-label
    .win99-title-bar
      div
        p Medium mode
      label.win99-button(for="goBackButton") Ã—
    input.close-sidebar(type="radio", id="medium-close-sidebar", name="select-square")
    .board
      .winner-message
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        p Completed!
      - var gridSize = 9 // Change this to adjust the grid size (e.g., 4, 9, 16, 25)
      - var blockSize = Math.sqrt(gridSize); // Size of each block/group
      - var squares = [];
      - for (let i = 0; i < gridSize * gridSize; i++) {
      -   var row = Math.floor(i / gridSize);
      -   var col = i % gridSize;
      -   var group = Math.floor(row / blockSize) * blockSize + Math.floor(col / blockSize) + 1;
      -   squares.push({ index: i + 1, group: group });
      - }
      each square in squares
        - var preFilledSquares = [[1, 6], [2, 5], [6, 7], [7, 9], [9, 3], [12, 2], [13, 1], [16, 6], [19, 9], [23, 6], [24, 3], [27, 4], [28, 1], [29, 2], [30, 9], [37, 3], [39, 4], [40, 9], [42, 8], [43, 1], [49, 3], [52, 4], [53, 7], [54, 9], [57, 6], [59, 8], [61, 3], [63, 5], [64, 7], [65, 4], [67, 5], [72, 1], [73, 5],[74, 8],[75, 1], [76, 4], [80, 2], [81, 6]];
        - var preFilledEntry = preFilledSquares.find(entry => entry[0] === square.index);
        - var isPreFilled = preFilledEntry !== undefined;
        - var defaultValue = isPreFilled ? preFilledEntry[1] : 0;
        each num in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
            input.number_picker_input(
                type="radio", 
                id=`board-medium-square-${square.index}-number-${num}`, 
                name=`board-medium-square-${square.index}-numbers`, 
                value=num
                disabled=(isPreFilled ? true : false)
                checked=(isPreFilled ? num===defaultValue : num===0)
                data-square-index=square.index
                data-square-group=square.group
                data-x=(square.index-1)%9+1
                data-y=Math.ceil(square.index/9)
            )
        label.square(for=`board-medium-square-${square.index}` data-square-index=square.index data-square-group=square.group data-x=(square.index-1)%9+1 data-y=Math.ceil(square.index/9))
          if isPreFilled
            div(style="position: absolute; user-select: none; bottom: 2px; right: 2px; width: 17px; height: 17px")
              img(src='./img/lock.png', alt='Locked', style="width: 100%; height: 100%;")
          else
            input.sidebar_toggle_input(type="radio", id=`board-medium-square-${square.index}`, name="select-square")
            label.sidebar_toggle_label(for=`board-medium-square-${square.index}`)
            .number_picker_sidebar
              each num in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
                label.number_picker_label(for=`board-medium-square-${square.index}-number-${num}`)=num===0 ? "X" : num
  
  .game-hard.win99-window
    label(for="hard-close-sidebar").close-sidebar-label
    .win99-title-bar
      div
        p Hard mode
      label.win99-button(for="goBackButton") Ã—
    input.close-sidebar(type="radio", id="hard-close-sidebar", name="select-square")
    .board
      .winner-message
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        img.confetti(src="./img/confetti.png", alt="Confetti")
        p Completed!
      - var gridSize = 9 // Change this to adjust the grid size (e.g., 4, 9, 16, 25)
      - var blockSize = Math.sqrt(gridSize); // Size of each block/group
      - var squares = [];
      - for (let i = 0; i < gridSize * gridSize; i++) {
      -   var row = Math.floor(i / gridSize);
      -   var col = i % gridSize;
      -   var group = Math.floor(row / blockSize) * blockSize + Math.floor(col / blockSize) + 1;
      -   squares.push({ index: i + 1, group: group });
      - }
      each square in squares
        - var preFilledSquares = [[10, 6], [14, 3], [18, 4], [21, 2], [22, 5], [27, 8], [28, 3], [33, 5], [34, 8], [36, 7], [37, 7], [41, 1], [46, 8], [49, 2], [54, 6], [57, 6], [60, 1], [62, 4], [66, 9], [67, 4], [72, 5], [79, 1], [80, 7]];
        - var preFilledEntry = preFilledSquares.find(entry => entry[0] === square.index);
        - var isPreFilled = preFilledEntry !== undefined;
        - var defaultValue = isPreFilled ? preFilledEntry[1] : 0;
        each num in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
            input.number_picker_input(
                type="radio", 
                id=`board-hard-square-${square.index}-number-${num}`, 
                name=`board-hard-square-${square.index}-numbers`, 
                value=num
                disabled=(isPreFilled ? true : false)
                checked=(isPreFilled ? num===defaultValue : num===0)
                data-square-index=square.index
                data-square-group=square.group
                data-x=(square.index-1)%9+1
                data-y=Math.ceil(square.index/9)
            )
        label.square(for=`board-hard-square-${square.index}` data-square-index=square.index data-square-group=square.group data-x=(square.index-1)%9+1 data-y=Math.ceil(square.index/9))
          if isPreFilled
            div(style="position: absolute; user-select: none; bottom: 2px; right: 2px; width: 17px; height: 17px")
              img(src='./img/lock.png', alt='Locked', style="width: 100%; height: 100%;")
          else
            input.sidebar_toggle_input(type="radio", id=`board-hard-square-${square.index}`, name="select-square")
            label.sidebar_toggle_label(for=`board-hard-square-${square.index}`)
            .number_picker_sidebar
              each num in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
                label.number_picker_label(for=`board-hard-square-${square.index}-number-${num}`)=num===0 ? "X" : num